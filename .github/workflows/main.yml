name: CI
on: push

concurrency:
    group: ${{ github.ref }}
    cancel-in-progress: true

jobs:
    test:
        name: Test
        timeout-minutes: 15
        strategy:
            matrix:
                os: [ubuntu-latest, macos-latest]
        runs-on: ${{ matrix.os }}
        steps:
            - uses: actions/checkout@v3

            - name: Install just
              uses: taiki-e/install-action@just

            - name: Bootstrap
              run: just bootstrap

            - name: Test
              run: just test
